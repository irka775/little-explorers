{% extends "base.html" %}
{% load widget_tweaks %}
{% load crispy_forms_tags %}
{% block page_header %}

<div class="container header-container">
    <div class="row">
        <div class="col"></div>
    </div>
</div>

{% endblock %}
{% block content %}
{% if user.is_superuser %}
<!-- Admin Exclusive Content -->
<div 
  class="alert alert-primary text-center mt-5 p-5 rounded-3 shadow-sm" 
  role="alert"
  style="font-family: 'Arial', sans-serif; font-size: 1.1rem; line-height: 1.5"
>
  <!-- Store Logo -->
  {% if store_settings and store_settings.store_logo %}
    <img src="{{ store_settings.store_logo.url }}" alt="{{ store_settings.store_name }}" height="50" class="mb-2">
  {% endif %}

  <!-- Welcome Heading -->
  <h4 class="alert-heading">
    Welcome, Administrator of <strong>{{ store_settings.store_name }}</strong>!
  </h4>

  <!-- Admin Message -->
  <p>
    You have exclusive access to the management panel, designed to help you oversee and optimize
    the operations of <strong>{{ store_settings.store_name }}</strong>. From here, you can manage products, 
    configure store settings, and ensure a seamless shopping experience for customers.
  </p>
  
  <hr>

  <!-- Important Note -->
  <p class="mb-0">
    Please use this dashboard responsibly, as any changes made here directly affect the store‚Äôs 
    functionality, user experience, and overall performance.
  </p>
</div>



<div class="container mt-4 pt-3">
    <div class="row justify-content-center">
        <div class="col-lg-8 col-md-10 col-sm-12">
            <div class="card bg-light shadow-lg" style="opacity: 0.9;">
                <div class="card-body">
                    <h2 class="mt-4">Site Settings
                    </h2>

        <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}

            <!-- Store Settings -->
            <h4 class="mb-3">üè™ Store Settings</h4>
            <div class="row mb-3">
                <label class="col-sm-3 col-form-label">Store Name</label>
                <div class="col-sm-9">
                    {{ store_sett_form.store_name|as_crispy_field }}
                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-3 col-form-label">Store Logo</label>
                <div class="col-sm-9">
                    {{ store_sett_form.store_logo|as_crispy_field }}
                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-3 col-form-label">Contact Email</label>
                <div class="col-sm-9">
                    {{ store_sett_form.contact_email|as_crispy_field }}
                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-3 col-form-label">Contact Phone</label>
                <div class="col-sm-9">
                    {{ store_sett_form.contact_phone|as_crispy_field }}
                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-3 col-form-label">Currency</label>
                <div class="col-sm-9">
                    {{ store_sett_form.currency|as_crispy_field }}
                </div>
            </div>

            <!-- Boolean Fields with Switch -->
            <div class="row mb-3">
                <label class="col-sm-3 col-form-label">Enable Reviews</label>
                <div class="col-sm-9">
                    <label class="switch">
                        {{ store_sett_form.enable_reviews }}
                        <span class="slider round"></span>
                    </label>
                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-3 col-form-label">Enable Maintenance Mode</label>
                <div class="col-sm-9">
                    <label class="switch">
                        {{ store_sett_form.enable_maintenance_mode }}
                        <span class="slider round"></span>
                    </label>
                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-3 col-form-label">Enable Stripe</label>
                <div class="col-sm-9">
                    <label class="switch">
                        {{ store_sett_form.enable_stripe }}
                        <span class="slider round"></span>
                    </label>
                </div>
            </div>

            <div class="row mb-3">
              <label class="col-sm-3 col-form-label">Enable Cash On Delivery</label>
              <div class="col-sm-9">
                  <label class="switch">
                      {{ store_sett_form.enable_cash_on_delivery }}
                      <span class="slider round"></span>
                  </label>
              </div>
          </div>

            <hr>

            <!-- Shipping Settings -->
            <h4 class="mb-3">üöö Shipping Settings</h4>
            <div class="row mb-3">
                <label class="col-sm-3 col-form-label">Shipping Option</label>
                <div class="col-sm-9">
                    {{ shipping_sett_form.shipping_options|as_crispy_field }}
                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-3 col-form-label">Standard Shipping Cost</label>
                <div class="col-sm-9">
                    {{ shipping_sett_form.standard_shipping_cost|as_crispy_field }}
                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-3 col-form-label">Free Shipping Threshold</label>
                <div class="col-sm-9">
                    {{ shipping_sett_form.free_shipping_threshold|as_crispy_field }}
                </div>
            </div>

            <div class="text-center">
                <button type="submit" class="btn btn-primary btn-lg">üíæ Save Settings</button>
            </div>
        </form>
    </div>

{% else %}

<div 
  class="alert  text-center mt-5 p-5 rounded-3 shadow-sm" 
  role="alert"
  style="font-family: 'Arial', sans-serif; font-size: 1.1rem; line-height: 1.5"
>
<div
  class=" alert-warning text-center alert  text-center mt-5 p-5 rounded-3 shadow-sm"
  role="alert"
  style="font-family: 'Arial', sans-serif; font-size: 1.1rem"
>
{% if store_settings and store_settings.store_logo %}
<img src="{{ store_settings.store_logo.url }}" alt="{{ store_settings.store_name }}" height="50" class="mb-3">
{% endif %}
  <h4 class="alert-heading">‚ö†Ô∏è Access Restricted - {{ store_settings.store_name }}</h4></h4>
  <p>
    Oops! This area is for administrators only. It looks like you don‚Äôt have the necessary permissions to access this page.

  </p>
  <hr >
  <p class="mb-0">
    If you believe you should have access, please contact the
    <a href="mailto:{{ store_settings.contact_email }}" class="alert-link"
      >system administrator</a
    >
    for further assistance.
  </p>
</div>
{% endif %}
{% endblock %}